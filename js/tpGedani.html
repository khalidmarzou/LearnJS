<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../bootstrap.min.css" />
    <title>Gestion Stagiaires</title>
  </head>
  <body class="vh-100 d-flex align-items-center justify-content-center">
    <form
      name="infoStagiare"
      class="form w-50 d-flex flex-column align-items-center border border-2 rounded-1 border-primary"
    >
      <label for="name" class="form-label w-75 mt-2"
        >Enter Your Full-Name :
      </label>
      <input id="name" type="text" name="name" class="form-control w-75" />
      <label for="cine" class="form-label w-75 mt-4">Enter Your CINE :</label>
      <input id="cine" type="text" name="cine" class="form-control w-75" />
      <label
        for="Grade"
        class="mt-4 form-label w-75 d-flex justify-content-between"
        >Grade : </label
      ><input
        max="20"
        min="1"
        id="grade"
        type="number"
        name="grade"
        class="w-75 form-control"
      /><label for="branche" class="form-label w-75 mt-4"
        >Select Your Branch :
      </label>
      <select name="branche" id="branche" class="form-select w-75">
        <option value="dev">Dev</option>
        <option value="info">Info</option>
      </select>
      <label for="module" class="form-label w-75 mt-4">Select Module :</label>
      <select name="module" id="module" class="form-select w-75">
        <option value=""></option>
        <option value=""></option>
        <option value=""></option>
      </select>
      <input
        id="submitBtn"
        type="submit"
        value="Submit"
        class="btn btn-primary w-50 my-3"
      />
    </form>
    <div class="buttons d-flex flex-column gap-2 position-fixed end-0">
      <button id="restBtn" class="me-2 btn btn-danger">Rest</button>
      <button id="editBtn" class="me-2 btn btn-warning">Edit</button>
      <button id="searchBtn" class="me-2 btn btn-success">Search</button>
    </div>
    <div
      class="position-fixed text-bg-info top-0 end-0 rounded-circle d-flex justify-content-center align-items-center fs-1 fw-bolder m-1 border border-3 border-primary"
      style="height: 100px; width: 100px"
      id="numberS"
    >
      00
    </div>
    <script>
      function id(id) {
        return document.getElementById(id);
      }
      let nameS = id("name");
      let cine = id("cine");
      let note = id("grade");
      let branche = id("branche");
      let module = id("module");
      // buttons :
      let btnSubmit = id("submitBtn");
      let btnRest = id("restBtn");
      let btnEdit = id("editBtn");
      let btnSearch = id("searchBtn");
      let numberS = id("numberS");

      nameS.addEventListener("focusout", (e) => {
        e.preventDefault();
        if (nameS.value.length < 3) {
          nameS.classList.add("border-danger");
        } else {
          nameS.setAttribute("class", "form-control w-75 border-success");
        }
      });
      cine.addEventListener("focusout", (e) => {
        e.preventDefault();
        if (cine.value.length < 3) {
          cine.classList.add("border-danger");
        } else {
          cine.setAttribute("class", "form-control w-75 border-success");
        }
      });
      note.addEventListener("focusout", (e) => {
        e.preventDefault();
        if (note.value === "") {
          note.classList.add("border-danger");
        } else {
          note.setAttribute("class", "form-control w-75 border-success");
        }
      });
      branche.addEventListener("focusout", (e) => {
        let modulesDev = ["HTML5", "CSS3", "PYTHON"];
        let modulesInfo = ["LINUX", "KALI", "POWERSHELL"];
        if (branche.value === "dev") {
          for (let i = 0; i < module.children.length; i++) {
            module.children[i].value = modulesDev[i];
            module.children[i].text = modulesDev[i];
          }
        } else {
          for (let i = 0; i < module.children.length; i++) {
            module.children[i].value = modulesInfo[i];
            module.children[i].text = modulesInfo[i];
          }
        }
      });
      btnSubmit.addEventListener("click", (e) => {
        e.preventDefault();
        if (nameS.value.length < 3) {
          nameS.classList.add("border-danger");
        } else {
          nameS.setAttribute("class", "form-control w-75 border-success");
        }
        if (cine.value.length < 3) {
          cine.classList.add("border-danger");
        } else {
          cine.setAttribute("class", "form-control w-75 border-success");
        }
        if (note.value === "") {
          note.classList.add("border-danger");
        } else {
          note.setAttribute("class", "form-control w-75 border-success");
        }
        if (module.children[1].value === "") {
          module.classList.add("border-danger");
        } else {
          module.classList.remove("border-danger");
          module.classList.add("border-success");
          branche.classList.add("border-success");
        }
      });
      btnRest.addEventListener("click", (e) => {
        e.preventDefault();
        nameS.value = "";
        cine.value = "";
        note.value = "";
      });
    </script>
  </body>
</html>
